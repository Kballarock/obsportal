<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" lang="en">

<header id="header" class="header header-hide" th:fragment="copy">
    <div class="container">
        <div id="locale" style="display: none" th:text="${#locale}"></div>
        <div id="logo" class="pull-left">
            <h1><a href="#" class="scrollto"><span>Billing</span>Portal</a></h1>
        </div>

        <nav id="nav-menu-container">
            <ul class="nav-menu">
                <li><a th:href="@{login}" th:text="#{common.singIn.btn}" sec:authorize="anonymous"></a></li>
                <li class="menu-active"><a th:href="@{registration}" th:text="#{common.singUp.btn}"
                                           sec:authorize="anonymous"></a></li>

                <li class="menu-has-children" sec:authorize="hasAnyAuthority('WRITE_PRIVILEGE', 'READ_PRIVILEGE')"><a
                        th:text="#{common.contract}"></a>

                    <ul id="contract" style="width: 170px;">
                        <li><a th:href="@{reportGenerator}"><span class="fa fa-dot-circle-o"></span>&nbsp;[[#{title.reportGenerator}]]</a></li>
                        <li><a><span class="fa fa-square"></span>&nbsp;[[#{title.oneWindow}]]</a></li>
                    </ul>
                </li>

                <li class="menu-has-children" sec:authorize="hasAuthority('WRITE_PRIVILEGE')"><a
                        th:text="#{common.manual}"></a>

                    <ul id="users" style="width: 170px;">
                        <li class="menu-has-children"><a><span class="fa fa-users"></span>&nbsp;[[#{admin.users.link}]]</a>
                            <ul>
                                <li><a th:href="@{users}"><span class="fa fa-list"></span>&nbsp;[[#{common.userList}]]</a></li>
                            </ul>
                        </li>
                        <li><a th:href="@{tariffs}"><span class="fa fa-money"></span>&nbsp;[[#{common.tariffs}]]</a>
                    </ul>
                </li>

                <li class="menu-has-children" sec:authorize="isAuthenticated()"><a><span class="fa fa-user"></span>&nbsp;</a>

                    <ul style="width: 170px;">
                        <li><a th:href="@{/profile/editPassword}"><span class="fa fa-gear"></span>&nbsp;[[#{common.profile}]]</a>
                        </li>

                        <li>
                            <a href="#" onclick="document.forms['logoutForm'].submit()">
                                <span class="fa fa-sign-out" aria-hidden="true"></span>&nbsp;[[#{common.logout}]]</a>

                            <form id="logoutForm" th:action="@{/logout}" method='POST' th:hidden="logout">
                                <input id="logout" hidden type="submit">
                            </form>
                        </li>
                    </ul>
                </li>

                <li class="menu-has-children"><a><span class="fa fa-language"></span>&nbsp;[[${#locale}]]</a>
                    <ul>
                        <li><a class="flag-icon flag-icon-gb" href="?lang=en">&nbsp;&nbsp;&nbsp;[[#{common.lang.English}]]</a>
                        </li>
                        <li><a class="flag-icon flag-icon-ru" href="?lang=ru">&nbsp;&nbsp;&nbsp;[[#{common.lang.Russian}]]</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>
    </div>
    <script>
        var locale = document.getElementById("locale").textContent;
    </script>
</header>
</html>